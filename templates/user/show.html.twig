{% extends 'base.html.twig' %}

{% block body %}
    <br>
    <div class="box">
        <h1>{{ user.lastname }} {{ user.firstname }}</h1>
        <ul>
            <li>{{ user.lastname }}</li>
            <li>{{ user.firstname }}</li>
            <li>{{ user.email }}</li>
            <li>Password (hidden)</li>
        </ul>
        Change something ? <a href="{{ url('app_user_update', {id: user.id}) }}">Modify</a>
    </div>
    {% if app.user %}
        <div class="mb-3">
            Do you want to disconnect ? <a href="{{ path('app_logout') }}">Disconnection</a>
        </div>
    {% endif %}
{% endblock %}

{% block title %}
    {{ user.lastname }} {{ user.firstname }}
{% endblock %}
{% extends 'base.html.twig' %}

{% block title %}{{ account.firstname }} {{ account.lastname }}'s profile{% endblock %}

{% block body %}
    <div class="box_title">
        <h1>{{ account.firstname }} {{ account.lastname }}'s profile</h1>
    </div>
    <div class="profilepage">
        <dl class="informations">
            <h2> Informations</h2>
            <dt> First Name :</dt>
            <dd> {{ account.firstname }}</dd>
            <dt> Last Name :</dt>
            <dd> {{ account.lastname }}</dd>
            <dt> Email :</dt>
            <dd> {{ account.email }}</dd>
            {% if account.client.id is defined %}
                <dt>Phone</dt>
                <dd> {{ account.client.phone}}</dd>
                <dt>Address</dt>
                <dd> {{ account.client.address}}</dd>
                <dt>City</dt>
                <dd> {{ account.client.city}}</dd>
                <dt>Post Code</dt>
                <dd> {{ account.client.postcode}}</dd>
            {% endif %}

        </dl>
        <div class="separator"></div>
        <div class="orders">
            {% if account.client.id is defined %}
                <h2>Orders</h2>
                {% if account.client.orders is not empty %}
                    {% for order in account.client.orders %}
                            <div class="orderinfo">
                                <h3>Order n°{{ order.id }} ({{ order.status }})</h3>
                                <div class="flex-row d-flex column-gap-1">
                                <span class="material-symbols-outlined">
event_available
</span>
                                <p> {{ order.orderdate|date('d/m/Y')}}</p>
                                </div>
                                <div class="flex-row d-flex column-gap-1">

                                <span class="material-symbols-outlined">
local_shipping
</span>
                                <p> {{ order.destaddress }},{{ order.destcity }} {{ order.destpostcode }} </p>
                                </div>
                                <div class="flex-row d-flex column-gap-1">
                                <span class="material-symbols-outlined">
paid
</span>
                                    <p> {{ order.price}} €</p>

                                </div>
                            </div>
                    {% endfor %}
                {% else %}
                    <div class="orderinfo">
                        <h3>No order made yet</h3>
                    </div>
                {% endif %}
            {% elseif is_granted('ROLE_ADMIN')%}
                <h2>Admin links</h2>
                <a href="{{ path('app_home') }}" class="btn btn-primary me-md-1 d-flex justify-content-center w-100 column-gap-1" type="button"><span class="material-symbols-outlined">
table_edit
</span>Back-Office<span class="material-symbols-outlined">arrow_circle_right</span></a>
            {% endif %}
        </div>
    </div>

{% endblock %}